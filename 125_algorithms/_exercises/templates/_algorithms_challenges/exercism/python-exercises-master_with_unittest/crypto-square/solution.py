____ m__ _______ ceil, sqrt
_______ ___

__ ___.version_info[0] __ 2:
    ____ i.. _______ izip_longest __ z__
____
    ____ i.. _______ z__


___ encode(msg
    msg = _cleanse(msg)
    square_size = i..(c.. sqrt(l..(msg))))
    square = _chunks_of(msg, square_size)
    r.. ' '.j..([''.j..(col)
                     ___ col __ z__(*square, fillvalue='')])


___ _cleanse(s
    """Lowercase a string and remove punctuation and whitespace
    """
    r.. ''.j..([c ___ c __ s __ c.isalnum()]).l..


___ _chunks_of(s, n
    __ l..(s) <_ n:
        r.. [s]
    r.. [s |?]] + _chunks_of(s[n:], n)
